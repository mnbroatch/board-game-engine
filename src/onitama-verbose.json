{
  "sharedBoard": {
    "grid": {
      "type": "grid",
      "width": 5,
      "height": 5
    },
    "extraMoveCard": {
      "type": "stack",
      "piece": "animalCard",
      "initialCount": 1
    }
  },
  "pieces": [
    {
      "id": "student",
      "initialPlacements": {
        "type": "relative",
        "perPlayer": true,
        "board": ["sharedBoard", "grid"],
        "targets": [
          [0, 0],
          [0, 1],
          [0, 3],
          [0, 4]
        ]
      }
    },
    {
      "id": "master",
      "perPlayer": true,
      "initialPlacements": {
        "type": "relative",
        "board": ["sharedBoard", "grid"],
        "targets": [ [0, 2] ]
      }
    },
    {
      "id": "animalCard",
      "variants": {
        "tiger": {
          "count": 1,
          "moves": [
            [0, 2],
            [0, -1]
          ]
        },
        "ox": {
          "count": 1,
          "moves": [
            [0, 1],
            [1, 0],
            [0, -1]
          ]
        },
        "dragon": {
          "count": 1,
          "moves": [
            [-2, 1],
            [2, 1],
            [-1, -1],
            [1, -1]
          ]
        },
        "crane": {
          "count": 1,
          "moves": [
            [-1, -1],
            [1, -1],
            [0, 1]
          ]
        },
        "monkey": {
          "count": 1,
          "moves": [
            [-1, -1],
            [1, -1],
            [-1, 1],
            [1, 1]
          ]
        }
      }
    }
  ],
  "winCondition": {
    "type": "some",
    "conditions": [
      {
        "type": "doesNotContain",
        "board": ["sharedBoard", "grid"],
        "target": "all",
        "piece": {
          "type": "master",
          "player": "them"
        }
      },
      {
        "type": "contains",
        "board": ["sharedBoard", "grid"],
        "relative": true,
        "target": [4, 2],
        "piece": {
          "type": "master",
          "player": "me"
        }
      }
    ]
  },
  "personalBoard": {
    "cards": {
      "type": "stack",
      "piece": "animalCard",
      "initialCount": 2
    }
  },
  "round": {
    "loopUntil": false,
    "phases": [
      {
        "type": "sequentialPlayerTurn",
        "actions": [
          {
            "type": "movePiece",
            "piece": {
              "id": "animalCard",
              "board": ["personalBoard", "cards"],
              "player": "me"
            },
            "capture": true,
            "conditions": [
              {
                "type": "doesNotContain",
                "piece": {
                  "player": "me"
                }
              },
              {
                "type": "relativeMove",
                "moves": {
                  "replace": ["thisPiece", "moves"]
                }
              }
            ]
          },
          {
            "type": "swap",
            "automatic": "true",
            "a": {
              "state": ["previousAction", "piece"]
            },
            "b": {
              "board": ["sharedBoard", "extraMoveCard"],
              "target": "top"
            }
          }
        ]
      }
    ]
  }
}
